@use "../mixins/disable-mob-hover" as *;
@use "../mixins/focus" as *;
@use "../functions/clamp-calc" as *;

.stats-list {
	--value-font-size: 92px;
	--value-offset: 40px;

	display: grid;
	column-gap: 40px;
	align-items: flex-start;
	grid-template-columns: max-content max-content max-content;
	grid-template-rows: 385px auto;
	margin: 0;
	padding: 0;
	isolation: isolate;

	&__item {
		display: contents;

		&--active {
			--value-font-size: 408px;
			--value-translate-y: -40px;
			--value-font-weight: 100;
			--active-value-translate-y: calc(-1 * var(--value-translate-y));
		}

		&:not(&--active) {
			--key-opacity: 0;
			--key-visibility: hidden;
		}

		&:nth-child(odd) {
			&:not(.stats-list__item--active) .stats-list__value {
				padding-inline: var(--value-offset);

				&::before {
					opacity: 1;
				}
			}

			.stats-list__value {
				&::after {
					opacity: 1;
				}
			}
		}

		&:nth-child(3n) {
			.stats-list__value {
				padding-inline-start: var(--value-offset);

				&::after {
					opacity: 0;
				}

				&::before {
					opacity: 1;
				}
			}
		}
	}

	&__value {
		position: relative;
		z-index: -1;
		grid-row: 1;
		margin: 0;
		font-weight: var(--value-font-weight, 300);
		font-size: var(--value-font-size);
		line-height: 0.93;
		transform: translateY(var(--value-translate-y, revert));
		transition: all 0.3s ease, font-weight 0s;
		user-select: none;

		&::before,
		&::after {
			content: "";
			position: absolute;
			width: 4px;
			height: 100px;
			background-color: #fff;
			opacity: 0;
			transform: translateY(var(--active-value-translate-y, revert));
			transition: opacity 0.3s ease;
		}

		&::before {
			left: 0;
		}

		&::after {
			right: 0;
		}
	}

	&__key {
		display: flex;
		column-gap: 30px;
		align-items: center;
		grid-column: 1/-1;
		grid-row: 2;
		margin: 0;
		font-weight: 400;
		opacity: var(--key-opacity, revert);
		visibility: var(--key-visibility, revert);
		transition-property: opacity, visibility;
		transition-duration: 0.3s;
		transition-timing-function: ease;
		border-inline-start: 1px solid currentcolor;
		margin-block-start: -59px;
		padding-block: 26px;
		padding-inline-start: 30px;

		p {
			margin: 0;
		}
	}

	&__button {
		--right-arrow: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='92' height='55' fill='none'%3E%3Cpath stroke='currentColor' d='M90.294 27.823H-.001M64.37.87 91 27.5 64.37 54.13'/%3E%3C/svg%3E");
		--width: 91px;
		--height: 53px;

		mask-image: var(--right-arrow);
		mask-repeat: no-repeat;
		mask-size: cover;
		margin: 0;
		border: none;
		padding: 0;
		width: var(--width);
		height: var(--height);
		color: #fff;
		background-color: #fff;
		transition: transform 0.3s ease;
		cursor: pointer;

		@include hover {
			transform: translateX(15px);
		}
	}
}
